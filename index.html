<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Arqon Musobaqasi</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    text-align:center;
    color:white;
    background:url("bg.png") no-repeat center center fixed;
    background-size:cover;
}

.container{
    background:rgba(0,0,0,0.6);
    width:90%;
    margin:20px auto;
    padding:20px;
    border-radius:20px;
}

#gameArea{
    display:flex;
    justify-content:space-around;
    margin-top:20px;
    height:420px;
    position:relative;
}

/* Rope spiral effect */
.rope{
    width:8px;
    height:350px;
    background:repeating-linear-gradient(
        45deg,
        #d2a679,
        #d2a679 10px,
        #a67c52 10px,
        #a67c52 20px
    );
    border-radius:10px;
    position:relative;
    margin:auto;
}

/* Player */
.player{
    position:absolute;
    bottom:0;
    width:100px;
    transition:0.7s;
}

/* Columns */
.column{
    position:relative;
    width:45%;
}

button{
    padding:10px 20px;
    margin:10px;
    border:none;
    border-radius:10px;
    cursor:pointer;
    font-size:16px;
}

button:hover{
    transform:scale(1.1);
}

#turn{
    font-size:20px;
    font-weight:bold;
    margin-top:10px;
}

.confetti{
    position:fixed;
    width:10px;
    height:10px;
    background:red;
    animation:fall 3s linear infinite;
}

@keyframes fall{
    0%{transform:translateY(-100px);}
    100%{transform:translateY(100vh);}
}
</style>
</head>
<body>

<div class="container">
<h1>üèÜ Arqonga Tirmash Musobaqasi</h1>

<h3 id="turn">1-Guruh navbati</h3>
<h3 id="question"></h3>
<div id="answers"></div>

<div id="gameArea">

<div class="column">
    <h2>1-Guruh</h2>
    <div class="rope"></div>
    <img src="bola1.png" class="player" id="player1">
</div>

<div class="column">
    <h2>2-Guruh</h2>
    <div class="rope"></div>
    <img src="bola2.png" class="player" id="player2">
</div>

</div>

<h2 id="result"></h2>

</div>

<script>

const questions = [
{question:"6 + 4 =", answers:["8","10","12","9"], correct:1},
{question:"O‚Äòzbekiston poytaxti?", answers:["Samarqand","Toshkent","Buxoro","Xiva"], correct:1},
{question:"5 x 3 =", answers:["15","10","20","12"], correct:0},
{question:"Suv formulasi?", answers:["CO2","O2","H2O","NaCl"], correct:2},
{question:"9 + 8 =", answers:["15","17","18","16"], correct:1}
];

let currentQuestion = 0;
let turn = 1;
let climb1 = 0;
let climb2 = 0;
const maxHeight = 300;

function loadQuestion(){
    if(currentQuestion >= questions.length){
        document.getElementById("question").innerHTML="O'yin tugadi!";
        document.getElementById("answers").innerHTML="";
        return;
    }

    document.getElementById("question").innerHTML=questions[currentQuestion].question;
    let answersDiv=document.getElementById("answers");
    answersDiv.innerHTML="";

    questions[currentQuestion].answers.forEach((answer,index)=>{
        let btn=document.createElement("button");
        btn.innerHTML=answer;
        btn.onclick=function(){checkAnswer(index)};
        answersDiv.appendChild(btn);
    });

    document.getElementById("turn").innerHTML=
        turn===1?"1-Guruh navbati":"2-Guruh navbati";
}

function checkAnswer(index){

if(index===questions[currentQuestion].correct){

    if(turn===1){
        climb1+=60;
        if(climb1>maxHeight) climb1=maxHeight;
        document.getElementById("player1").style.bottom=climb1+"px";
        if(climb1>=maxHeight) win(1);
    }else{
        climb2+=60;
        if(climb2>maxHeight) climb2=maxHeight;
        document.getElementById("player2").style.bottom=climb2+"px";
        if(climb2>=maxHeight) win(2);
    }

}else{

    if(turn===1){
        climb1-=30;
        if(climb1<0) climb1=0;
        document.getElementById("player1").style.bottom=climb1+"px";
    }else{
        climb2-=30;
        if(climb2<0) climb2=0;
        document.getElementById("player2").style.bottom=climb2+"px";
    }

}

turn = turn===1?2:1;
currentQuestion++;
loadQuestion();
}

function win(team){
    document.getElementById("result").innerHTML="üéâ "+team+"-Guruh G‚Äòolib!";
    document.getElementById("answers").innerHTML="";
    createConfetti();
}

function createConfetti(){
    for(let i=0;i<80;i++){
        let conf=document.createElement("div");
        conf.classList.add("confetti");
        conf.style.left=Math.random()*100+"vw";
        conf.style.backgroundColor=
        "hsl("+Math.random()*360+",100%,50%)";
        document.body.appendChild(conf);
    }
}

loadQuestion();

</script>

</body>
</html>
